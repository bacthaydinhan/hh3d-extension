# Chrome Extension - B√≠ C·∫£nh T√¥ng M√¥n Auto Boss Helper

## üìã T·ªïng quan d·ª± √°n

Extension Chrome h·ªó tr·ª£ t·ª± ƒë·ªông ƒë√°nh boss trong game B√≠ C·∫£nh T√¥ng M√¥n, cho ph√©p ng∆∞·ªùi ch∆°i theo d√µi tr·∫°ng th√°i v√† t·ª± ƒë·ªông th·ª±c hi·ªán c√°c h√†nh ƒë·ªông m√† kh√¥ng c·∫ßn m·ªü tab game li√™n t·ª•c.

## üéØ M·ª•c ti√™u ch√≠nh

- **Monitoring**: Theo d√µi tr·∫°ng th√°i boss battle real-time
- **Automation**: T·ª± ƒë·ªông click "Khi√™u Chi·∫øn" khi s·∫µn s√†ng
- **Background**: Ho·∫°t ƒë·ªông ng·∫ßm kh√¥ng c·∫ßn tab active
- **User-friendly**: Giao di·ªán ƒë∆°n gi·∫£n, d·ªÖ s·ª≠ d·ª•ng

## üîß T√≠nh nƒÉng chi ti·∫øt

### 1. **Popup Interface** 
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üêâ B√≠ C·∫£nh T√¥ng M√¥n Helper      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Tr·∫°ng th√°i: [ƒêang ƒë·∫øm ng∆∞·ª£c]    ‚îÇ
‚îÇ Th·ªùi gian: [05:32]              ‚îÇ
‚îÇ L∆∞·ª£t ƒë√°nh: [3/5]                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚òëÔ∏è T·ª± ƒë·ªông ƒë√°nh boss            ‚îÇ
‚îÇ ‚òëÔ∏è Th√¥ng b√°o khi s·∫µn s√†ng       ‚îÇ
‚îÇ ‚òëÔ∏è √Çm thanh c·∫£nh b√°o            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [B·∫≠t/T·∫Øt Extension]             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. **Status Monitoring**
- **Countdown Status**: "ƒêang ƒë·∫øm ng∆∞·ª£c" / "S·∫µn s√†ng ƒë√°nh" / "H·∫øt l∆∞·ª£t"
- **Timer Display**: Hi·ªÉn th·ªã th·ªùi gian c√≤n l·∫°i (MM:SS)
- **Attack Count**: S·ªë l∆∞·ª£t ƒë√°nh c√≤n l·∫°i (X/5)
- **Boss Info**: T√™n boss, c·∫•p ƒë·ªô, HP

### 3. **Auto Actions**
- **Auto Challenge**: T·ª± ƒë·ªông click "Khi√™u Chi·∫øn" khi countdown = 0
- **Auto Attack**: T·ª± ƒë·ªông click "T·∫•n C√¥ng" trong popup battle
- **Smart Timing**: ƒê·ª£i DOM load v√† ki·ªÉm tra element t·ªìn t·∫°i

### 4. **Background Operations**
- **Content Script**: Inject v√†o trang game ƒë·ªÉ monitor
- **Service Worker**: Ch·∫°y ng·∫ßm v√† qu·∫£n l√Ω state
- **Tab Management**: Ho·∫°t ƒë·ªông k·ªÉ c·∫£ khi tab inactive

## üèóÔ∏è Ki·∫øn tr√∫c Extension

### **1. Manifest.json**
```json
{
  "manifest_version": 3,
  "name": "B√≠ C·∫£nh T√¥ng M√¥n Auto Boss Helper",
  "version": "1.0",
  "description": "T·ª± ƒë·ªông h·ªó tr·ª£ ƒë√°nh boss trong game B√≠ C·∫£nh T√¥ng M√¥n",
  "permissions": [
    "activeTab",
    "storage",
    "notifications",
    "alarms"
  ],
  "host_permissions": [
    "https://your-game-domain.com/*"
  ],
  "background": {
    "service_worker": "background.js"
  },
  "content_scripts": [{
    "matches": ["https://your-game-domain.com/*"],
    "js": ["content.js"],
    "run_at": "document_end"
  }],
  "action": {
    "default_popup": "popup.html",
    "default_title": "Boss Helper"
  }
}
```

### **2. File Structure**
```
boss-helper-extension/
‚îú‚îÄ‚îÄ manifest.json
‚îú‚îÄ‚îÄ popup.html          # Giao di·ªán popup
‚îú‚îÄ‚îÄ popup.js            # Logic popup
‚îú‚îÄ‚îÄ popup.css           # Style popup
‚îú‚îÄ‚îÄ content.js          # Script inject v√†o game
‚îú‚îÄ‚îÄ background.js       # Service worker
‚îú‚îÄ‚îÄ icons/
‚îÇ   ‚îú‚îÄ‚îÄ icon16.png
‚îÇ   ‚îú‚îÄ‚îÄ icon48.png
‚îÇ   ‚îî‚îÄ‚îÄ icon128.png
‚îî‚îÄ‚îÄ sounds/
    ‚îî‚îÄ‚îÄ notification.mp3
```

## üìù Chi ti·∫øt implementation

### **1. Content Script (content.js)**
```javascript
// Monitoring game state
class BossMonitor {
  constructor() {
    this.isEnabled = false;
    this.gameState = {
      status: 'unknown',
      timeLeft: 0,
      attacksLeft: 5,
      canChallenge: false
    };
  }

  // Detect game elements
  detectGameElements() {
    return {
      challengeBtn: document.getElementById('challenge-boss-btn'),
      attackBtn: document.getElementById('attack-boss-btn'),
      attackCount: document.querySelector('.attack-count'),
      bossPopup: document.getElementById('boss-damage-screen')
    };
  }

  // Parse countdown timer
  parseCountdown(timerText) {
    const match = timerText.match(/(\d+):(\d+)/);
    if (match) {
      return parseInt(match[1]) * 60 + parseInt(match[2]);
    }
    return 0;
  }

  // Monitor game state changes
  monitorGameState() {
    const elements = this.detectGameElements();
    
    if (elements.challengeBtn) {
      const btnText = elements.challengeBtn.textContent.trim();
      
      if (btnText.includes('C√≤n')) {
        // Countdown state
        this.gameState.status = 'countdown';
        this.gameState.timeLeft = this.parseCountdown(btnText);
        this.gameState.canChallenge = false;
      } else if (btnText.includes('KHI√äU CHI·∫æN')) {
        // Ready to challenge
        this.gameState.status = 'ready';
        this.gameState.timeLeft = 0;
        this.gameState.canChallenge = true;
      } else if (btnText.includes('H·∫øt L∆∞·ª£t')) {
        // No attacks left
        this.gameState.status = 'depleted';
        this.gameState.canChallenge = false;
      }
    }

    // Update attacks left
    if (elements.attackCount) {
      this.gameState.attacksLeft = parseInt(elements.attackCount.textContent);
    }

    // Send state to background
    chrome.runtime.sendMessage({
      type: 'STATE_UPDATE',
      state: this.gameState
    });
  }

  // Auto challenge when ready
  autoChallenge() {
    if (!this.isEnabled || !this.gameState.canChallenge) return;

    const elements = this.detectGameElements();
    if (elements.challengeBtn && !elements.challengeBtn.disabled) {
      elements.challengeBtn.click();
      
      // Wait for popup then auto attack
      setTimeout(() => this.autoAttack(), 1000);
    }
  }

  // Auto attack in popup
  autoAttack() {
    const elements = this.detectGameElements();
    if (elements.attackBtn && elements.bossPopup.classList.contains('show')) {
      elements.attackBtn.click();
    }
  }

  // Start monitoring
  start() {
    this.isEnabled = true;
    
    // Monitor every second
    setInterval(() => {
      this.monitorGameState();
      if (this.isEnabled) {
        this.autoChallenge();
      }
    }, 1000);
  }

  // Stop monitoring
  stop() {
    this.isEnabled = false;
  }
}

// Initialize monitor
const bossMonitor = new BossMonitor();

// Listen for messages from popup
chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {
  switch (request.type) {
    case 'START_MONITORING':
      bossMonitor.start();
      break;
    case 'STOP_MONITORING':
      bossMonitor.stop();
      break;
    case 'GET_STATE':
      sendResponse(bossMonitor.gameState);
      break;
  }
});

// Auto start if enabled
chrome.storage.sync.get(['autoEnabled'], (result) => {
  if (result.autoEnabled) {
    bossMonitor.start();
  }
});
```

### **2. Background Service Worker (background.js)**
```javascript
// Manage extension state and notifications
class BackgroundManager {
  constructor() {
    this.gameState = null;
    this.lastNotificationTime = 0;
  }

  // Handle messages from content script
  handleMessage(request, sender, sendResponse) {
    switch (request.type) {
      case 'STATE_UPDATE':
        this.updateGameState(request.state, sender.tab);
        break;
    }
  }

  // Update game state and trigger notifications
  updateGameState(newState, tab) {
    const oldState = this.gameState;
    this.gameState = newState;

    // Notify when ready to challenge
    if (oldState?.status === 'countdown' && newState.status === 'ready') {
      this.notifyReadyToChallenge(tab);
    }

    // Update badge
    this.updateBadge(newState);
  }

  // Show notification when ready
  notifyReadyToChallenge(tab) {
    const now = Date.now();
    if (now - this.lastNotificationTime < 30000) return; // Throttle

    chrome.notifications.create({
      type: 'basic',
      iconUrl: 'icons/icon48.png',
      title: 'Boss Helper',
      message: 'S·∫µn s√†ng th√°ch ƒë·∫•u boss!'
    });

    this.lastNotificationTime = now;
  }

  // Update extension badge
  updateBadge(state) {
    let badgeText = '';
    let badgeColor = '#666';

    switch (state.status) {
      case 'countdown':
        badgeText = Math.ceil(state.timeLeft / 60).toString();
        badgeColor = '#ffa500';
        break;
      case 'ready':
        badgeText = '!';
        badgeColor = '#00ff00';
        break;
      case 'depleted':
        badgeText = '0';
        badgeColor = '#ff0000';
        break;
    }

    chrome.action.setBadgeText({ text: badgeText });
    chrome.action.setBadgeBackgroundColor({ color: badgeColor });
  }
}

const backgroundManager = new BackgroundManager();

// Listen for messages
chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {
  backgroundManager.handleMessage(request, sender, sendResponse);
});

// Alarm for periodic checks
chrome.alarms.create('checkBoss', { periodInMinutes: 1 });

chrome.alarms.onAlarm.addListener((alarm) => {
  if (alarm.name === 'checkBoss') {
    // Periodic health check
    chrome.tabs.query({ url: 'https://your-game-domain.com/*' }, (tabs) => {
      tabs.forEach(tab => {
        chrome.tabs.sendMessage(tab.id, { type: 'HEALTH_CHECK' });
      });
    });
  }
});
```

### **3. Popup Interface (popup.html + popup.js)**
```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <h2>üêâ Boss Helper</h2>
    
    <div class="status-section">
      <div class="status-item">
        <span class="label">Tr·∫°ng th√°i:</span>
        <span id="status" class="value">ƒêang t·∫£i...</span>
      </div>
      <div class="status-item">
        <span class="label">Th·ªùi gian:</span>
        <span id="timer" class="value">--:--</span>
      </div>
      <div class="status-item">
        <span class="label">L∆∞·ª£t ƒë√°nh:</span>
        <span id="attacks" class="value">-/5</span>
      </div>
    </div>

    <div class="settings-section">
      <label class="checkbox-label">
        <input type="checkbox" id="autoEnabled">
        <span>T·ª± ƒë·ªông ƒë√°nh boss</span>
      </label>
      <label class="checkbox-label">
        <input type="checkbox" id="notificationsEnabled">
        <span>Th√¥ng b√°o khi s·∫µn s√†ng</span>
      </label>
      <label class="checkbox-label">
        <input type="checkbox" id="soundEnabled">
        <span>√Çm thanh c·∫£nh b√°o</span>
      </label>
    </div>

    <div class="actions-section">
      <button id="refreshBtn" class="btn secondary">üîÑ L√†m m·ªõi</button>
      <button id="toggleBtn" class="btn primary">B·∫≠t Extension</button>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
```

## üöÄ Tri·ªÉn khai v√† Test

### **Phase 1: Core Development**
1. ‚úÖ T·∫°o basic extension structure
2. ‚úÖ Implement content script monitoring
3. ‚úÖ T·∫°o popup interface
4. ‚úÖ Basic auto-click functionality

### **Phase 2: Advanced Features**
1. ‚úÖ Background service worker
2. ‚úÖ Notifications system
3. ‚úÖ Settings persistence
4. ‚úÖ Error handling

### **Phase 3: Polish & Optimization**
1. ‚úÖ UI/UX improvements
2. ‚úÖ Performance optimization
3. ‚úÖ Comprehensive testing
4. ‚úÖ Documentation

### **Testing Strategy**
- **Manual Testing**: Test tr√™n game th·∫≠t
- **Edge Cases**: M·∫•t m·∫°ng, tab ƒë√≥ng, game update
- **Performance**: Monitor memory usage, CPU
- **Compatibility**: Test tr√™n Chrome/Edge versions

## üîí B·∫£o m·∫≠t v√† Tu√¢n th·ªß

### **Chrome Web Store Policies**
- ‚úÖ Kh√¥ng vi ph·∫°m ToS c·ªßa game
- ‚úÖ Ch·ªâ automation c∆° b·∫£n, kh√¥ng hack
- ‚úÖ Transparent v·ªÅ t√≠nh nƒÉng
- ‚úÖ Respect user privacy

### **Game Compliance**
- ‚úÖ Kh√¥ng modify game code
- ‚úÖ Ch·ªâ simulate user clicks
- ‚úÖ Kh√¥ng bypass game mechanics
- ‚úÖ Fair play principles

## üìä Metrics v√† Analytics

### **Success Metrics**
- User adoption rate
- Daily active users
- Feature usage statistics
- User satisfaction scores

### **Technical Metrics**
- Extension performance
- Error rates
- Crash reports
- Memory usage

## üéØ Future Enhancements

### **Version 2.0 Ideas**
- **Multi-boss support**: H·ªó tr·ª£ nhi·ªÅu lo·∫°i boss
- **Schedule attacks**: ƒê·∫∑t l·ªãch t·∫•n c√¥ng
- **Team coordination**: Ph·ªëi h·ª£p v·ªõi guild members
- **Advanced analytics**: Stats chi ti·∫øt

### **Integration Possibilities**
- **Discord bot**: Notify qua Discord
- **Mobile companion**: App mobile
- **Web dashboard**: Qu·∫£n l√Ω t·ª´ web

---

## üìù Notes

ƒê√¢y l√† m·ªôt plan chi ti·∫øt ƒë·ªÉ ph√°t tri·ªÉn Chrome Extension h·ªó tr·ª£ auto boss. Extension s·∫Ω:

1. **Monitor real-time** tr·∫°ng th√°i game t·ª´ DOM
2. **Auto-click** khi s·∫µn s√†ng th√°ch ƒë·∫•u
3. **Background operation** kh√¥ng c·∫ßn tab active
4. **User-friendly interface** d·ªÖ s·ª≠ d·ª•ng
5. **Comply** v·ªõi ch√≠nh s√°ch Chrome v√† game

Extension n√†y s·∫Ω gi√∫p ng∆∞·ªùi ch∆°i t·ªëi ∆∞u h√≥a th·ªùi gian v√† kh√¥ng b·ªè l·ª° c∆° h·ªôi ƒë√°nh boss!
